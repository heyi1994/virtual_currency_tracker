# Virtual Currency Tracker

ä¸€ä¸ªåŸºäº Rust å¼€å‘çš„å®æ—¶åŠ å¯†è´§å¸ä»·æ ¼è¿½è¸ªå·¥å…·ï¼Œé€šè¿‡ WebSocket è¿æ¥å¸å®‰ï¼ˆBinanceï¼‰äº¤æ˜“æµï¼Œå‘½ä»¤è¡Œå®æ—¶ç›‘æ§å’Œå±•ç¤ºåŠ å¯†è´§å¸ä»·æ ¼ä¿¡æ¯ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ”„ **å®æ—¶æ•°æ®æ›´æ–°**ï¼šé€šè¿‡ WebSocket å®æ—¶æ¥æ”¶å¸å®‰äº¤æ˜“æ•°æ®
- ğŸ“Š **å¤šå¸ç§ç›‘æ§**ï¼šæ”¯æŒåŒæ—¶ç›‘æ§å¤šä¸ªäº¤æ˜“å¯¹ï¼ˆBTC/USDTã€ETH/USDT ç­‰ï¼‰
- â±ï¸ **æ—¶é—´çª—å£åˆ†æ**ï¼šæ”¯æŒ 1 å°æ—¶ã€4 å°æ—¶ã€1 å¤©ç­‰ä¸åŒæ—¶é—´çª—å£çš„ä»·æ ¼å˜åŒ–ç»Ÿè®¡
- ğŸ¨ **ç»ˆç«¯ UI æ˜¾ç¤º**ï¼šå½©è‰²ç»ˆç«¯ç•Œé¢å®æ—¶å±•ç¤ºä»·æ ¼ä¿¡æ¯
- âš¡ **é«˜æ€§èƒ½å¼‚æ­¥**ï¼šåŸºäº Tokio å¼‚æ­¥è¿è¡Œæ—¶ï¼Œæ€§èƒ½ä¼˜å¼‚

## é¡¹ç›®ç»“æ„

```
virtual_currency_tracker/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.rs                      # ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ mod.rs                   # æ¨¡å—å£°æ˜
â”‚   â”‚   â”œâ”€â”€ app_config.rs            # åº”ç”¨é…ç½®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ trader_stream.rs         # äº¤æ˜“æµæ•°æ®æ¨¡å‹
â”‚   â”‚   â””â”€â”€ virtual_currency.rs      # è™šæ‹Ÿè´§å¸æ•°æ®æ¨¡å‹
â”‚   â””â”€â”€ trader/
â”‚       â”œâ”€â”€ mod.rs                   # äº¤æ˜“æ¨¡å—å£°æ˜
â”‚       â””â”€â”€ trader_manager.rs        # äº¤æ˜“ç®¡ç†å™¨
â”œâ”€â”€ config.toml                      # é…ç½®æ–‡ä»¶
â”œâ”€â”€ Cargo.toml                       # Rust é¡¹ç›®é…ç½®
â””â”€â”€ Dockerfile                       # Docker é•œåƒæ„å»ºæ–‡ä»¶
```

## æ ¸å¿ƒæ¨¡å—

### æ•°æ®æ¨¡å‹

- **VirtualCurrency** (`src/models/virtual_currency.rs:4`)ï¼šè™šæ‹Ÿè´§å¸æ•°æ®ç»“æ„
  - æœ€æ–°æˆäº¤ä»· (price)
  - ä»·æ ¼å˜åŠ¨ (price_change)
  - ä»·æ ¼å˜åŠ¨ç™¾åˆ†æ¯” (price_change_percent)
  - æ—¶é—´çª—å£å†…æœ€é«˜ä»· (high_price)
  - æ—¶é—´çª—å£å†…æœ€ä½ä»· (low_price)
  - äº¤æ˜“å¯¹ç¬¦å· (symbol)

- **AppConfig** (`src/models/app_config.rs:5`)ï¼šåº”ç”¨é…ç½®
  - æ—¶é—´çª—å£å¤§å° (window_size)
  - ç›‘å¬çš„å¸ç§åˆ—è¡¨ (listen_currency)
  - WebSocket URL ç”Ÿæˆæ–¹æ³•

### äº¤æ˜“ç®¡ç†

- **TraderManager** (`src/trader/trader_manager.rs:11`)ï¼šäº¤æ˜“æ•°æ®ç®¡ç†å™¨
  - ç»´æŠ¤äº¤æ˜“æµæ•°æ®æ˜ å°„
  - æ›´æ–°å®æ—¶äº¤æ˜“æ•°æ®
  - ç»ˆç«¯ç•Œé¢åˆ·æ–°å’Œæ˜¾ç¤º

## ä¾èµ–é¡¹

ä¸»è¦ä¾èµ–åŒ…ï¼š

- **tokio**: å¼‚æ­¥è¿è¡Œæ—¶
- **tokio-tungstenite**: WebSocket å®¢æˆ·ç«¯
- **serde & serde_json**: æ•°æ®åºåˆ—åŒ–/ååºåˆ—åŒ–
- **crossterm**: ç»ˆç«¯ UI æ§åˆ¶
- **anyhow**: é”™è¯¯å¤„ç†
- **toml**: é…ç½®æ–‡ä»¶è§£æ

## é…ç½®è¯´æ˜

ç¼–è¾‘ `config.toml` æ–‡ä»¶é…ç½®ç›‘æ§å‚æ•°ï¼š

```toml
# ç›‘å¬çª—å£å˜åŒ–ï¼š
# 1h - 1å°æ—¶å†…ä»·æ ¼å˜åŒ–
# 4h - 4å°æ—¶å†…ä»·æ ¼å˜åŒ–
# 1d - 1å¤©å†…ä»·æ ¼å˜åŒ–
window_size = '1h'

# éœ€è¦ç›‘å¬çš„å¸ç§
listen_currency = [
    'btcusdt',
    'ethusdt',
]
```

## è¿è¡Œæ–¹å¼

### æœ¬åœ°è¿è¡Œ

1. ç¡®ä¿å·²å®‰è£… Rust å·¥å…·é“¾ï¼ˆæ¨è 1.83+ï¼‰

2. å…‹éš†é¡¹ç›®å¹¶è¿›å…¥ç›®å½•ï¼š
```bash
cd virtual_currency_tracker
```

3. ç¼–è¯‘å¹¶è¿è¡Œï¼š
```bash
cargo run --release
```

### Docker è¿è¡Œ

1. æ„å»º Docker é•œåƒï¼š
```bash
docker build -t virtual-currency-tracker .
```

2. è¿è¡Œå®¹å™¨ï¼š
```bash
docker run --rm virtual-currency-tracker
```